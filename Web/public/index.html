<!DOCTYPE html>
<html lang="en">

<head>
    <title>Flipped Classroom翻轉教室</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- bs.css -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <!-- jquery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <!-- bs.js -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <!-- icon -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <!-- css -->
    <link rel="stylesheet" href="index.css">
    <!-- icon -->
    <link rel="icon" href="/image/icon.png" type="img/icon.png" sizes="16x16">
    <!-- vue -->
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.11"></script>
    <!-- axios -->
    <script src="https://cdn.staticfile.org/axios/0.18.0/axios.min.js"></script>
</head>

<body data-target="#navbarScroll" data-spy="scroll">

    <!-- Navigation -->
    <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation" id="navbarScroll">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">Flipped Classroom 翻轉教室</a>
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
                    data-target="#myNavigation">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="myNavigation">
                <ul class="nav navbar-nav">
                    <li><a href="#news">最新消息</a></li>
                    <li><a href="#teacher">師資陣容</a></li>
                    <li><a href="#curriculumInformation">課程資訊</a></li>
                    <li><a href="#aboutUs">關於我們</a></li>
                    <li><a href="#contactUs" data-toggle="modal">聯絡我們</a></li>
                    <li><a href="#login" data-toggle="modal">登入</a></li>
                </ul>
            </div>

    </nav>

    <!-- Carousel-->
    <div id="topCarousel" class="carousel slide" data-ride="carousel">
        <!-- Indicators //-->
        <ol class="carousel-indicators">
            <li data-target="#topCarousel" data-slide-to="0" class="active"></li>
            <li data-target="#topCarousel" data-slide-to="1"></li>
            <li data-target="#topCarousel" data-slide-to="2"></li>
        </ol>
        <!-- Indicators end -->
        <!-- Wrapper for slides -->
        <div class="carousel-inner">
            <div class="item active">
                <img width="100%" src="image/banner01.jpg" alt="">
            </div>
            <div class="item">
                <img width="100%" src="image/banner02.jpg" alt="">
            </div>
            <div class="item">
                <img width="100%" src="image/banner03.jpg" alt="">
            </div>
            <div class="item">
                <img width="100%" src="image/banner04.jpg" alt="">
            </div>
            <div class="item">
                <img width="100%" src="image/banner05.jpg" alt="">
            </div>
        </div>
        <!-- Wrapper for slides end //-->

        <!-- Controls -->
        <a class="left carousel-control" href="#topCarousel" data-slide="prev">
            <span class="icon-prev"></span>
        </a>
        <a class="right carousel-control" href="#topCarousel" data-slide="next">
            <span class="icon-next"></span>
        </a>
    </div>

    <!-- News -->
    <section class="page-section bg-primary text-white mb-0" id="news">
        <div class="container">
            <h2 class="page-section-heading text-center text-white">最新消息</h2>
        </div>
        <section class="news-section">
            <div class="container">
                <div class="row">
                    <div>
                        <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
                            <div v-for="news in info">
                                <div class="panel panel-default">
                                    <div class="panel-heading" role="tab" v-bind:id="'heading'+news.id">
                                        <h4 class="panel-title"> <a role="button" data-toggle="collapse"
                                                data-parent="#accordion" :href="'#collapse' + news.id "
                                                aria-expanded="true" :aria-controls="'collapse' + news.id">
                                                <span></span>
                                                {{ news.newsdate }}<br>
                                                {{ news.title }}
                                                </span> </a> </h4>
                                    </div>
                                    <div :id="'collapse' + news.id" class="panel-collapse collapse" role="tabpanel"
                                        :aria-labelledby="'heading' + news.id ">
                                        <div class="panel-body">
                                            {{ news.content }}
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div><!-- /.panel-group -->
                    </div><!-- /.col-md-offset-3 col-md-6 -->
                </div><!-- /.row -->
            </div><!-- /.container -->
        </section>
    </section>

    <!-- Teacher -->
    <section class="page-section bg-primary text-white mb-0" id="teacher">
        <div class="container">
            <h2 class="page-section-heading text-center text-white">師資陣容</h2>
        </div>
        <section id="service" class="teacher-section">
            <div class="container">
                <div class="row" style="padding-top:70px" id="tabs">
                    <div v-for="item in list" class="col-md-4 col-sm-4 col-xs-4 hover">
                        <img v-bind:src="item.img" class="img-responsive center-block">
                        <h3>{{ item.name }}</h3>{{ item.content }}<br />
                    </div>
                    <div v-for="item in list2" class="col-md-4 col-sm-4 col-xs-4 hover">
                        <img v-bind:src="item.img" class="img-responsive center-block">
                        <h3>{{ item.name }}</h3>{{ item.content }}<br />
                    </div>

                </div>
            </div>
        </section>
    </section>

    <!-- Curriculum -->
    <section class="page-section bg-primary text-white mb-0" id="curriculumInformation">
        <div class="container">
            <h2 class="page-section-heading text-center text-white">課程資訊</h2>
        </div>
        <section class="curriculum-section">
            <div class="table-responsive">
                <div id="curriculum-table" class="membership-pricing-table">
                    <table>
                        <tbody>
                            <tr>
                                <th class="plan-header"></th>
                                <th class="plan-header">
                                    <div class="pricing-plan-name">國文</div>
                                </th>
                                <th class="plan-header">
                                    <div class="pricing-plan-name">英文</div>
                                </th>
                                <th class="plan-header">
                                    <div class="pricing-plan-name">數學</div>
                                </th>
                                <th class="plan-header">
                                    <div class="pricing-plan-name">自然</div>
                                </th>
                                <th class="plan-header">
                                    <div class="pricing-plan-name">歷史</div>
                                </th>
                            </tr>
                            <tr v-for='curriculum in info '>
                                <td>{{ '星期'+curriculum.week }}</td>
                                <td v-html="replaceValue(curriculum.chinese)"></td>
                                <td v-html="replaceValue(curriculum.english)"></td>
                                <td v-html="replaceValue(curriculum.math)"></td>
                                <td v-html="replaceValue(curriculum.science)"></td>
                                <td v-html="replaceValue(curriculum.history)"></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>
    </section>


    <!-- Aboutus -->
    <section class="page-section bg-primary text-white mb-0" id="aboutUs">
        <div class="container">
            <h2 class="page-section-heading text-center text-white">關於我們</h2>
        </div>
        <section id="aboutUs-section">
            <div class="container">
                <hr class="divider-title">
                <div class="row" id="about-tabs">
                    <div v-for="item in list" class="col-xs-6 col-sm-4 col-md-3 col-lg-4">
                        <div class="project">
                            <figure class="img-responsive">
                                <img v-bind:src="item.img">
                                <span class="actions">
                                    <span class="project-details">{{ item.title }}</span>
                                </span>
                            </figure>
                        </div>
                    </div>
                </div>
        </section>

    </section>

    <!-- Contactus -->
    <div id="contactUs" class="modal fade ">
        <div class="modal-content container">
            <div class="modal-header">
                <div class="row">
                    <div class="col-sm-12 col-lg-12">
                        <h1 class="modal-title">{{title}}</h1>
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    </div>
                </div>
            </div>
            <div class="modal-body row">
                <div class="col-sm-6">
                    <div class="well">
                        <h3><i class="fa fa-home fa-1x"></i> {{address.title}}</h3>
                        <p>{{address.content}}</p>
                        <br />
                        <br />
                        <h3><i class="fa fa-envelope fa-1x"></i> {{email.title}}</h3>
                        <p>{{email.content}}</p>
                        <br />
                        <br />
                        <h3><i class="fa fa-user fa-1x"></i>{{phone.title}}</h3>
                        <p>{{phone.content}}</p>
                        <br />
                        <br />
                    </div>
                </div>
                <div class="col-sm-6 ">
                    <iframe class="well"
                        src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3640.60443204226!2d120.648819614989!3d24.15052618439365!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x34693d964fff6dc5%3A0x5d526ce61b5b9ca6!2zNDA45Y-w5Lit5biC5Y2X5bGv5Y2A5YWs55uK6Lev5LqM5q61NTHomZ8!5e0!3m2!1szh-TW!2stw!4v1586006606152!5m2!1szh-TW!2stw"
                        aria-hidden="false" tabindex="0"></iframe>
                </div>
            </div>
        </div>
    </div>

    <!-- Login -->
    <div id="login" class="modal fade">
        <div class="modal-dialog modal-login">
            <div class="modal-content">
                <div class="modal-header">
                    <div class="avatar">
                        <img src="image/login.png" alt="">
                    </div>
                    <h4 class="modal-title">會員登入</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                </div>
                <div class="modal-body">
                    <form action="" method="post">
                        <div class="form-group">
                            <input id="username" type="text" class="form-control" name="username" placeholder="帳號"
                                required="required">
                        </div>
                        <div class="form-group">
                            <input id="password" type="password" class="form-control" name="password" placeholder="密碼"
                                required="required">
                        </div>
                        <div class="form-group">
                            <button @click="checkLogin()" id="userLogin" type="button"
                                class="btn btn-primary btn-lg btn-block">登入</button>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <a id="redirectForget" href="#">忘記密碼?</a>
                </div>
            </div>
        </div>
    </div>


    <!-- Forgetpw -->
    <div id="forgetPW" class="modal fade">
        <div class="modal-dialog modal-login">
            <div class="modal-content">
                <div class="modal-header">
                    <div id="forgetPng" class="avatar">
                        <img src="image/questionMark.png" alt="">
                    </div>
                    <h4 class="modal-title">忘記密碼</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                </div>
                <div class="modal-body">
                    <form action="" method="post">
                        <div class="form-group">
                            <input id="forgetUsername" type="text" class="form-control" name="forgetUsername"
                                placeholder="登入帳號" required="required">
                        </div>
                        <div class="form-group">
                            <input id="forgetEmail" type="text" class="form-control" name="forgetEmail"
                                placeholder="會員Email" required="required">
                        </div>
                        <div class="form-group">
                            <button id="sendPW" type="button" class="btn btn-primary btn-lg btn-block">寄出新密碼</button>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <a id="redirectLogin" href="#">會員登入</a>
                </div>
            </div>
        </div>
    </div>


    <!-- Footer -->
    <footer id="Footer">
        <div class="container">
            <div class="row">

                <div class="col-md-4 col-sm-6 col-xs-12">
                    <span class="logo">{{logo}}</span>
                </div>
                <div>
                    <p>{{footer}}</p>
                </div>
            </div>
        </div>
    </footer>

    <script>

        //聯絡我們
        new Vue({
            el: "#contactUs",
            data: {
                title: '聯絡我們 Contact',
                address:
                {
                    title: '地址 Adress：',
                    content: '408台中市南屯區公益路二段51號'
                },
                email:
                {
                    title: '信箱E-mail：',
                    content: 'service@agnes.com.tw'
                },
                phone:
                {
                    title: '電話Phone',
                    content: '(04) 2326-5860'
                },

            }

        });

        //登入判斷
        new Vue({
            el: '#userLogin',
            methods: {
                checkLogin: function () {
                    if ($("#username").val().trim() == "" || $("#password").val().trim() == "") {
                        alert('帳號密碼不能為空!');
                        return;
                    }
                    axios.post('/api/login', {
                        username: $("#username").val(),
                        password: $("#password").val()
                    })
                        .then(function (response) {
                            window.location.replace("http://localhost:3000/" + response.data);
                        })
                        .catch(function (error) {
                            alert('Login fail, please try again.');
                        });
                }
            }
        })

        //最新消息
        new Vue({
            el: '#accordion',
            data() {
                return {
                    info: null
                }
            },
            mounted() {
                axios
                    .get('/api/news/showall')
                    .then(response => (this.info = response.data))
                    .catch(function (error) {
                        console.log(error);
                    });
            }
        })

        //師資陣容
        new Vue({
            el: "#tabs",
            data: {
                list: [
                    {
                        name: "國文 張三",
                        content: `蒹葭蒼蒼，白露為霜。所謂伊人，在水一方。
                              溯洄從之，道阻且長；溯游從之，宛在水中央。
                              蒹葭萋萋，白露未晞。所謂伊人，在水之湄。
                              溯洄從之，道阻且躋；溯游從之，宛在水中坻。
                              `,
                        img: "image/teacher (1).png"
                    },
                    {
                        name: "英文 徐葳",
                        content: `You're just too good to be true
                               Can't take my eyes off of you
                               You'd be like heaven to touch
                               I wanna hold you so much
                               At long last, love has arrived
                               And I thank God I'm alive
                               You're just too good to be true
                               Can't take my eyes off of you` ,
                        img: "image/teacher (2).png"
                    },
                    {
                        name: "數學 高斯",
                        content: `高斯是個不折不扣的天才。傳聞他在小學便獨立發現了等差數列求和公式。
                               高斯小時候高斯家裡很窮，但他依舊喜歡看書。
                               當高斯12歲時，已經開始懷疑幾何原本中的基礎證明。
                               當他16歲時，預測在歐氏幾何之外必然會產生一門完全不同的幾何學，即非歐幾何學。
                               由於高斯突出的才華，他被世人尊稱為「數學王子」。` ,
                        img: "image/teacher (3).png"
                    },
                ],
                list2: [
                    {
                        name: "自然 張衡",
                        content: `張衡在機械製作上也有不平凡的成就，他先後製造過：指南車、記里鼓車、自飛木雕、地動儀、候風儀等機械。
                    製作機械必須有良好的數學基礎，因此也著有《算罔論》，不過現在已經失傳了！他還推算出圓周率是在3.14至3.16之間呢！`,
                        img: "image/teacher (4).png"
                    },
                    {
                        name: "歷史 李白",
                        content: `李白（701年5月19日－762年11月30日），字太白，號青蓮居士，中國唐朝詩人，自言祖籍隴西成紀，先世西涼武昭王李暠之後，與李唐皇室同宗。
                    幼時內遷，寄籍劍南道綿州。另外，郭沫若研究認為李白出生於吉爾吉斯碎葉河上的碎葉城，屬唐安西都護府，該說有一定影響。
                    有「詩仙」、「詩俠」、「酒仙」、「謫仙人」等稱呼，活躍於盛唐，為傑出的浪漫主義詩人` ,
                        img: "image/teacher (5).png"
                    },
                ]
            }
        });

        //課程資訊
        new Vue({
            el: '#curriculum-table',
            data() {
                return {
                    info: null
                }
            },
            mounted() {
                axios
                    .get('/api/curriculum/showall')
                    .then(response => (this.info = response.data))
                    .catch(function (error) {
                        console.log(error);
                    });
            },
            methods: {
                replaceValue: function (room) {
                    return room.toString().replace(/1/g, '<span class="glyphicon glyphicon-ok"></span>').replace(/0/g, '<span class="glyphicon glyphicon-remove"></span>');
                },
            }
        })

        //關於我們
        new Vue({

            el: "#about-tabs",
            data: {
                list: [
                    {
                        title: "狂賀!本校榮獲2020教育部補習班獎第一名!",
                        img: "image/trophy (1).png"
                    },
                    {
                        title: "狂賀!本校榮獲2019教育部補習班獎第一名!",
                        img: "image/trophy (2).png"
                    },
                    {
                        title: "狂賀!本校榮獲2018教育部補習班獎第一名!",
                        img: "image/trophy (3).png"
                    },
                    {
                        title: "狂賀!本校榮獲2017教育部補習班獎第一名!",
                        img: "image/trophy (1).png"
                    },
                    {
                        title: "狂賀!本校榮獲2016教育部補習班獎第一名!",
                        img: "image/trophy (2).png"
                    },
                    {
                        title: "狂賀!本校榮獲2015教育部補習班獎第一名!",
                        img: "image/trophy (3).png"
                    }
                ]
            },

        });

        //Footer
        new Vue({

            el: '#Footer',
            data: {
                logo: 'Flipped Classroom',
                footer: 'Copyright © 2020 Flipped Classroom Inc. All rights reserved'
            }
        });

        $(document).ready(function () {
            //輪播圖
            $('.carousel').carousel()

            //登入和忘記密碼的切換
            $('#login').on('click', '#redirectForget', function (e) {
                $("#login").modal('hide');
                $("#forgetPW").modal('show');
            });

            $('#forgetPW').on('click', '#redirectLogin', function (e) {
                $("#forgetPW").modal('hide');
                $("#login").modal('show');
            });

        });

        //回到頂端按鈕
        (function () {
            $("body").append("<img id='goTopButton' style='display: none; z-index: 5; cursor: pointer;' title='回到頂端'/>");
            var img = "image/back-arrow.png",
                locatioin = 1 / 2, // 按鈕出現在螢幕的高度
                right = 10, // 距離右邊 px 值
                opacity = 0.5, // 透明度
                speed = 500, // 捲動速度
                $button = $("#goTopButton"),
                $body = $(document),
                $win = $(window);
            $button.attr("src", img);
            $button.on({
                mouseover: function () { $button.css("opacity", 1); },
                mouseout: function () { $button.css("opacity", opacity); },
                click: function () { $("html, body").animate({ scrollTop: 0 }, speed); }
            });
            window.goTopMove = function () {
                var scrollH = $body.scrollTop(),
                    winH = $win.height(),
                    css = { "top": winH * locatioin + "px", "position": "fixed", "right": right, "opacity": opacity };
                if (scrollH > 20) {
                    $button.css(css);
                    $button.fadeIn("slow");
                } else {
                    $button.fadeOut("slow");
                }
            };
            $win.on({
                scroll: function () { goTopMove(); },
                resize: function () { goTopMove(); }
            });
        })();
    </script>
</body>

</html>